function preInitialization()
    --[[
    The scripts in this function are executed after the scene is loaded but before the
    scene elements have been initialized, thus they should be used to set the time at
    which the scene should start and other settings that might determine initialization
    critical objects.
    ]]--

    openspace.spice.loadKernel("${SPICE}/naif0012.tls")
    openspace.spice.loadKernel("${SPICE}/pck00010.tpc")

    openspace.time.setTime("2012 JUL 01 00:00:00.000") -- EVENT JULY 2012 (START)
    -- openspace.time.setTime("2012 JUL 12 00:00:00.000") -- EVENT JULY 2012 (First CME)
    -- openspace.time.setTime("2012 JUL 14 00:00:00.000") -- EVENT JULY 2012 (BATRUS START)

    dofile(openspace.absPath('${SCRIPTS}/bind_keys_fieldlinessequence.lua'))
        -- dofile(openspace.absPath('${SCRIPTS}/bind_common_keys.lua'))
end

function postInitialization()
    --[[
    The scripts in this function are executed after all objects in the scene have been
    created and initialized, but before the first render call. This is the place to set
    graphical settings for the renderables.
    ]]--
    openspace.printInfo("Setting default values")
    openspace.setPropertyValue("Sun.renderable.enabled", true)
    openspace.setPropertyValue("SunGlare.renderable.enabled", false)
    openspace.setPropertyValue("SunMarker.renderable.enabled", false)
    openspace.setPropertyValue("EarthMarker.renderable.enabled", false)
    openspace.setPropertyValue("Constellation Bounds.renderable.enabled", false)

    openspace.setPropertyValue("MilkyWay.renderable.transparency", 0.55)
    openspace.setPropertyValue("MilkyWay.renderable.segments", 50)

    -- @TODO Carlbaum Default scene does openspace.resetCameraDirection() here
    -- Global Fieldlines Properties (Applies to ALL nodes whose name starts with ``)
    openspace.addVirtualProperty("BoolProperty", "Show ALL FLs", "Fieldlines*.renderable.enabled", true, nil, nil)
    openspace.addVirtualProperty("BoolProperty", "Draw Points", "Fieldlines*.renderable.togglePointDrawing", false, nil, nil)
    openspace.addVirtualProperty("BoolProperty", "Additive Blending", "Fieldlines*.renderable.additiveBlending", false, nil, nil)
    openspace.addVirtualProperty("FloatProperty", "FL Alpha", "Fieldlines*.renderable.fieldlineAlpha", 1.0, 0.0, 1.0)
    openspace.addVirtualProperty("IntProperty", "FL Color Method", "Fieldlines*.renderable.Color.fieldlineColorMethod", 1, 0, 1)

    openspace.addVirtualProperty("BoolProperty", "FL ENLIL EARTH", "Fieldlines_ENLIL_earth*.renderable.enabled", true, nil, nil)
    openspace.addVirtualProperty("FloatProperty", "FL ENLIL EARTH Alpha", "Fieldlines_ENLIL_earth*.renderable.fieldlineAlpha", 1.0, 0.0, 1.0)

    openspace.addVirtualProperty("BoolProperty", "FL ENLIL SLICES", "Fieldlines_ENLIL_slice*.renderable.enabled", true, nil, nil)
    openspace.addVirtualProperty("FloatProperty", "FL ENLIL SLICES Alpha", "Fieldlines_ENLIL_slice*.renderable.fieldlineAlpha", 1.0, 0.0, 1.0)
    openspace.addVirtualProperty("IntProperty", "FL ENLIL SLICES Color Method", "Fieldlines_ENLIL_slice*.renderable.Color.fieldlineColorMethod", 1, 0, 1)
    openspace.addVirtualProperty("IntProperty", "FL ENLIL SLICES Color Variable", "Fieldlines_ENLIL_slice*.renderable.Color.fieldlineColorQuantity", 0, 0, 1)

    openspace.addVirtualProperty("BoolProperty",  "FL ENLIL SLICES EQ", "Fieldlines_ENLIL_slice_eqP*.renderable.enabled", true, nil, nil)
    openspace.addVirtualProperty("FloatProperty", "FL ENLIL SLICES EQ Alpha", "Fieldlines_ENLIL_slice_eqP*.renderable.fieldlineAlpha", 1.0, 0.0, 1.0)
    openspace.addVirtualProperty("BoolProperty",  "FL ENLIL SLICES LAT4", "Fieldlines_ENLIL_slice_lat4*.renderable.enabled", true, nil, nil)
    openspace.addVirtualProperty("FloatProperty", "FL ENLIL SLICES Lat4 Alpha", "Fieldlines_ENLIL_slice_lat4*.renderable.fieldlineAlpha", 1.0, 0.0, 1.0)

    openspace.addVirtualProperty("BoolProperty", "FL BATSRUS", "Fieldlines_BATSRSU*.renderable.enabled", true, nil, nil)

    openspace.printInfo("Done setting default values")
end


return {
    ScenePath = ".",
    CommonFolder = "common",
    Camera = {
        Focus = "SolarSystemBarycenter", --"EarthBarycenter",--
        Position = {505370268486.696167, 1089706179272.719116, 890259148524.319458},
        Rotation = {0.0, 0.0, 0.0, 0.0},
    },
    Modules = {
        "sun",
        "mercury",
        "venus",
        "earth",
        "mars",
        -- "jupiter",
        -- "saturn",
        "uranus",
        -- "neptune",
        "stars",
        -- "stars-denver",
        "milkyway",
        -- "milkyway-eso",
        "constellationbounds",
        "fieldlinessequence/customkernels/hnm_ref_frame",
        "fieldlinessequence/customkernels/gsm_ref_frame",
        "fieldlinessequence/july2012/batsrus_fl_july2012",
        "fieldlinessequence/july2012/enlil_fl_july2012",
        "fieldlinessequence/july2012/pfss_fl_july2012",
    }
}
